<dom-module id="animatable-fab">
    <style>
    :host {
        display: none;
    }
    
    paper-fab {
        -webkit-transform: translateZ(0);
    }
    </style>
    <template>
        <paper-fab icon="{{icon}}" mini$="{{mini}}" src="{{src}}" tabindex="0"></paper-fab>
    </template>
</dom-module>
<script>
'use strict';
(function() {
    Polymer({
        is: 'animatable-fab',
        behaviors: [
            Polymer.NeonAnimationRunnerBehavior
        ],
        properties: {
            icon: String,
            mini: Boolean,
            src: String,
            _visible: Boolean,
            animationConfig: {
                type: Object,
                value: function() {
                    return {
                        'showFab': {
                            name: 'scale-up-animation',
                            node: this,
                            timing: {
                                delay: 200
                            }
                        },
                    };
                }
            },
        },
        listeners: {
            'neon-animation-finish': '_onNeonAnimationFinish',
        },
        show: function() {
            this.style.display = 'block';
            if (!this._visible) {
                //this.cancelAnimation();
                this.playAnimation('showFab');
            }
            this._visible = true;
        },
        hide: function() {
            this.style.display = 'none';
            this._visible = false;
        },
        showWithDelay: function() {
            this.show();
        },
        _onNeonAnimationFinish: function(e) {
            e.preventDefault();
            e.stopPropagation();
        }
    });
})();
</script>
