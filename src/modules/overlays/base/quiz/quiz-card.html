<link rel="import" href="question-feedback-card.html">
<link rel="import" href="wrong-answer-animation.html">
<dom-module id="quiz-card">
    <style>
    :host {
        display: block;
        width: 100%;
        height: 100%;
        padding-top: 64px;
        @apply(--layout-scroll);
        padding-bottom: 64px;
        box-sizing:border-box;
    }
    
    #quiz {
        width: 512px;
        margin: 0 auto 0;
        background-color: white;
        border-radius: 2px;
        min-height: 400px;
    }
    
    #questionFeedback {
        height: 192px;
        width: 100%;
    }
    /* tablet-small */
    
    @media all and (max-width: 600px) {
        #quiz {
            width: 100%;
            min-height: 100vh;
            margin: 0;
        }
        :host {
            padding: 0px;
            box-sizing: border-box;
            box-shadow: none;
        }
        skip-button {
            color: white;
        }
    }
    </style>
    <template>
        <paper-material id="quiz" elevation="3">
            <question-feedback-card id="questionFeedback" question="{{question}}">
            </question-feedback-card>
            <content>
            </content>
        </paper-material>
    </template>
</dom-module>
<script>
'use strict';
(function() {
    Polymer({
        is: 'quiz-card',
        behaviors: [
            Polymer.NeonAnimationRunnerBehavior
        ],
        properties: {
            question: {
                type: String,
                notify:true
            },
            animationConfig: {
                value: function() {
                    return {
                        'wrong-answer': {
                            name: 'wrong-answer-animation',
                            node: this,
                            duration: 900
                        }
                    };
                }
            },
        },

        show: function() {
            this.$.questionFeedback.show();
        },
        wasAnswered: function() {
            this.$.questionFeedback.wasAnswered();
        },
        showFeedback: function(feedback) {
            this.$.questionFeedback.showFeedback(feedback);
            if (feedback.grade == Capira.Grade.INCORRECT) {
                this.playAnimation('wrong-answer');
            }
        },
        attached: function() {
            this.ui = this.$.questionFeedback;
        }
    });
})();
</script>
