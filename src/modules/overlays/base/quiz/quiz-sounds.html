<dom-module id="quiz-sounds">
    <template>
        <audio id="soundsCorrect" preload="auto" autobuffer="true">
            <source src="/static/sound/correct.ogg" id="oggSource" type="audio/ogg">
            <source src="/static/sound/correct.mp3" id="mp3Source" type="audio/mpeg">
        </audio>
        <audio id="soundsWrong" preload="auto" autobuffer="true">
            <source src="/static/sound/wrong.ogg" id="oggSource" type="audio/ogg">
            <source src="/static/sound/wrong.mp3" id="mp3Source" type="audio/mpeg">
        </audio>
    </template>
</dom-module>
<script>
'use strict';
(function() {
    Polymer({
        is: 'quiz-sounds',
        properties: {
            volumes: {
                value: {
                    'soundsCorrect': 0.8,
                    'soundsWrong': 0.05,
                    'soundsTheme': 1
                }
            }
        },
        playCorrect: function() {
            this._play('soundsCorrect');
        },
        playWrong: function() {
            this._play('soundsWrong');
        },
        _play: function(sound) {
            var audio = this.$[sound];
            if (audio.readyState > 0) {
                audio.volume = this.volumes[sound];
                audio.pause();
                audio.currentTime = 0;
                audio.play();
            }
        }
    });
})();
</script>
