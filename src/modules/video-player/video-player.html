<script src="event-timer.js"></script>
<link rel="import" href="../../../bower_components/google-youtube/google-youtube.html">
<link rel="import" href="overlays-timeline.html">
<dom-module id="video-player">
    <style>
    :host {
        display: block;
        height: 100%;
    }
    
    google-youtube {
        height: 100%;
    }
    </style>
    <template>
        <google-youtube main video-id="[[unit.video.source]]" height="100%" width="100%" rel="0" autoplay="{{autoplay}}" theme="light" controls="1" showinfo="0" fs="0" id="player" duration="{{duration}}">
        </google-youtube>
        <overlays-timeline duration="{{duration}}" overlays="{{unit.overlays}}"></overlays-timeline>
    </template>
</dom-module>
<script>
'use strict';
(function() {
    Polymer({
        is: 'video-player',
        properties: {
            video: {
                type: Object,
                notify: true
            },
            autoplay: {
                value: 0
            },
            unit:Object
        },
        attached: function() {
            app.player = this.$.player;
            app.player.getCurrentTime=function(){
                return app.player.currenttime;
            };
        },

    });
})();
</script>
